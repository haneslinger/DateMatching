import numpy as np

# keras imports 
from keras.models import Sequential
from keras.layers import Dense

def trainModel(x, y):
    # build model
    model = Sequential()
    
    l = (Dense(units = 1,
	       input_shape = ((1,)),
               activation = 'relu',
               use_bias = True))
    l_w = l.get_weights()

    model.add(l)
    
    model.compile(loss='mean_squared_error',
                  optimizer='adam',
                  metrics=['accuracy'])
    
    # set data into place
    model.fit(x, y,
              epochs = 100,
              verbose = 2,)

    print("l weights before", l_w)
    print("l weights", l.get_weights())

    test = 24
    print(test, " -> ", model.predict(np.array([test]), verbose = 1))

def reg_input(x):
    x_range =  x.max() - x.min() 
    x =  (x -  x.mean()) /  x_range
    return x

if __name__ == '__main__':
    x = np.arange(100)
    x = reg_input(x)
    y = x*2 + 10

    print(x)
    print(y)
    
    trainModel(x, y)
    
    print("I did it")
    
    
    
